(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();/*!
 * Color mode toggler for Bootstrap's docs (https://getbootstrap.com/)
 * Copyright 2011-2023 The Bootstrap Authors
 * Licensed under the Creative Commons Attribution 3.0 Unported License.
 */(()=>{const n=()=>localStorage.getItem("theme"),e=i=>localStorage.setItem("theme",i),t=()=>{const i=n();return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},r=i=>{i==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.setAttribute("data-bs-theme",i)};r(t());const o=(i,a=!1)=>{const s=document.querySelector("#bd-theme");if(!s)return;const l=document.querySelector("#bd-theme-text"),c=document.querySelector(".theme-icon-active use"),f=document.querySelector(`[data-bs-theme-value="${i}"]`),d=f.querySelector("svg use").getAttribute("href");document.querySelectorAll("[data-bs-theme-value]").forEach(p=>{p.classList.remove("active"),p.setAttribute("aria-pressed","false")}),f.classList.add("active"),f.setAttribute("aria-pressed","true"),c.setAttribute("href",d);const h=`${l.textContent} (${f.dataset.bsThemeValue})`;s.setAttribute("aria-label",h),a&&s.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const i=n();i!=="light"&&i!=="dark"&&r(t())}),window.addEventListener("DOMContentLoaded",()=>{o(t()),document.querySelectorAll("[data-bs-theme-value]").forEach(i=>{i.addEventListener("click",()=>{const a=i.getAttribute("data-bs-theme-value");e(a),r(a),o(a,!0)})})})})();const se=new Map,dt={set(n,e,t){se.has(n)||se.set(n,new Map);const r=se.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return se.has(n)&&se.get(n).get(e)||null},remove(n,e){if(!se.has(n))return;const t=se.get(n);t.delete(e),t.size===0&&se.delete(n)}},Er=1e3,kt="transitionend",Tn=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),vr=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),_r=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),o=Number.parseFloat(t);return!r&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*Er)},yr=n=>{n.dispatchEvent(new Event(kt))},Ae=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ot=n=>Ae(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(Tn(n)):null,$t=n=>{if(!Ae(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},xt=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",Dn=n=>{n.offsetHeight},Cn=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ft=[],wr=n=>{document.readyState==="loading"?(ft.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of ft)e()}),ft.push(n)):n()},Jt=()=>document.documentElement.dir==="rtl",kn=n=>{wr(()=>{const e=Cn();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Ee=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,On=(n,e,t=!0)=>{if(!t){Ee(n);return}const r=5,o=_r(e)+r;let i=!1;const a=({target:s})=>{s===e&&(i=!0,e.removeEventListener(kt,a),Ee(n))};e.addEventListener(kt,a),setTimeout(()=>{i||yr(e)},o)},Sr=/[^.]*(?=\..*)\.|.*/,Ar=/\..*/,Tr=/::\d+$/,ht={};let Qt=1;const In={mouseenter:"mouseover",mouseleave:"mouseout"},Dr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Nn(n,e){return e&&`${e}::${Qt++}`||n.uidEvent||Qt++}function Fn(n){const e=Nn(n);return n.uidEvent=e,ht[e]=ht[e]||{},ht[e]}function Cr(n,e){return function t(r){return Ht(r,{delegateTarget:n}),t.oneOff&&_.off(n,r.type,e),e.apply(n,[r])}}function kr(n,e,t){return function r(o){const i=n.querySelectorAll(e);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(const s of i)if(s===a)return Ht(o,{delegateTarget:a}),r.oneOff&&_.off(n,o.type,e,t),t.apply(a,[o])}}function Bn(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function Ln(n,e,t){const r=typeof e=="string",o=r?t:e||t;let i=Pn(n);return Dr.has(i)||(i=n),[r,o,i]}function Zt(n,e,t,r,o){if(typeof e!="string"||!n)return;let[i,a,s]=Ln(e,t,r);e in In&&(a=(b=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return b.call(this,E)})(a));const l=Fn(n),c=l[s]||(l[s]={}),f=Bn(c,a,i?t:null);if(f){f.oneOff=f.oneOff&&o;return}const d=Nn(a,e.replace(Sr,"")),h=i?kr(n,t,a):Cr(n,a);h.delegationSelector=i?t:null,h.callable=a,h.oneOff=o,h.uidEvent=d,c[d]=h,n.addEventListener(s,h,i)}function It(n,e,t,r,o){const i=Bn(e[t],r,o);i&&(n.removeEventListener(t,i,!!o),delete e[t][i.uidEvent])}function Or(n,e,t,r){const o=e[t]||{};for(const[i,a]of Object.entries(o))i.includes(r)&&It(n,e,t,a.callable,a.delegationSelector)}function Pn(n){return n=n.replace(Ar,""),In[n]||n}const _={on(n,e,t,r){Zt(n,e,t,r,!1)},one(n,e,t,r){Zt(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[o,i,a]=Ln(e,t,r),s=a!==e,l=Fn(n),c=l[a]||{},f=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(c).length)return;It(n,l,a,i,o?t:null);return}if(f)for(const d of Object.keys(l))Or(n,l,d,e.slice(1));for(const[d,h]of Object.entries(c)){const p=d.replace(Tr,"");(!s||e.includes(p))&&It(n,l,a,h.callable,h.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=Cn(),o=Pn(e),i=e!==o;let a=null,s=!0,l=!0,c=!1;i&&r&&(a=r.Event(e,t),r(n).trigger(a),s=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented());const f=Ht(new Event(e,{bubbles:s,cancelable:!0}),t);return c&&f.preventDefault(),l&&n.dispatchEvent(f),f.defaultPrevented&&a&&a.preventDefault(),f}};function Ht(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function en(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function pt(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Pe={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${pt(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${pt(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let o=r.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=en(n.dataset[r])}return e},getDataAttribute(n,e){return en(n.getAttribute(`data-bs-${pt(e)}`))}};class Rt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Ae(t)?Pe.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Ae(t)?Pe.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,o]of Object.entries(t)){const i=e[r],a=Ae(i)?"element":vr(i);if(!new RegExp(o).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${o}".`)}}}const Ir="5.3.2";class Mn extends Rt{constructor(e,t){super(),e=Ot(e),e&&(this._element=e,this._config=this._getConfig(t),dt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){dt.remove(this._element,this.constructor.DATA_KEY),_.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){On(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return dt.get(Ot(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return Ir}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const mt=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?Tn(t.trim()):null}return e},B={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!xt(t)&&$t(t))},getSelectorFromElement(n){const e=mt(n);return e&&B.findOne(e)?e:null},getElementFromSelector(n){const e=mt(n);return e?B.findOne(e):null},getMultipleElementsFromSelector(n){const e=mt(n);return e?B.find(e):[]}},$n="backdrop",Nr="fade",tn="show",nn=`mousedown.bs.${$n}`,Fr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Br={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xn extends Rt{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Fr}static get DefaultType(){return Br}static get NAME(){return $n}show(e){if(!this._config.isVisible){Ee(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Dn(t),t.classList.add(tn),this._emulateAnimation(()=>{Ee(e)})}hide(e){if(!this._config.isVisible){Ee(e);return}this._getElement().classList.remove(tn),this._emulateAnimation(()=>{this.dispose(),Ee(e)})}dispose(){this._isAppended&&(_.off(this._element,nn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Nr),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ot(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),_.on(e,nn,()=>{Ee(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){On(e,this._getElement(),this._config.isAnimated)}}const Hn=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;_.on(document,t,`[data-bs-dismiss="${r}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),xt(this))return;const i=B.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(i)[e]()})},Lr="focustrap",Pr="bs.focustrap",tt=`.${Pr}`,Mr=`focusin${tt}`,$r=`keydown.tab${tt}`,xr="Tab",Hr="forward",rn="backward",Rr={autofocus:!0,trapElement:null},Wr={autofocus:"boolean",trapElement:"element"};class Rn extends Rt{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Rr}static get DefaultType(){return Wr}static get NAME(){return Lr}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),_.off(document,tt),_.on(document,Mr,e=>this._handleFocusin(e)),_.on(document,$r,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,_.off(document,tt))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=B.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===rn?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===xr&&(this._lastTabNavDirection=e.shiftKey?rn:Hr)}}const on=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",an=".sticky-top",Ve="padding-right",sn="margin-right";class Nt{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ve,t=>t+e),this._setElementAttributes(on,Ve,t=>t+e),this._setElementAttributes(an,sn,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ve),this._resetElementAttributes(on,Ve),this._resetElementAttributes(an,sn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const o=this.getWidth(),i=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+o)return;this._saveInitialAttribute(a,t);const s=window.getComputedStyle(a).getPropertyValue(t);a.style.setProperty(t,`${r(Number.parseFloat(s))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&Pe.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=o=>{const i=Pe.getDataAttribute(o,t);if(i===null){o.style.removeProperty(t);return}Pe.removeDataAttribute(o,t),o.style.setProperty(t,i)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Ae(e)){t(e);return}for(const r of B.find(e,this._element))t(r)}}const Kr="offcanvas",Yr="bs.offcanvas",re=`.${Yr}`,Wn=".data-api",jr=`load${re}${Wn}`,Vr="Escape",ln="show",cn="showing",un="hiding",Ur="offcanvas-backdrop",Kn=".offcanvas.show",Gr=`show${re}`,zr=`shown${re}`,Xr=`hide${re}`,dn=`hidePrevented${re}`,Yn=`hidden${re}`,qr=`resize${re}`,Jr=`click${re}${Wn}`,Qr=`keydown.dismiss${re}`,Zr='[data-bs-toggle="offcanvas"]',eo={backdrop:!0,keyboard:!0,scroll:!1},to={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class te extends Mn{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return eo}static get DefaultType(){return to}static get NAME(){return Kr}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||_.trigger(this._element,Gr,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Nt().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(cn);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ln),this._element.classList.remove(cn),_.trigger(this._element,zr,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||_.trigger(this._element,Xr).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(un),this._backdrop.hide();const t=()=>{this._element.classList.remove(ln,un),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Nt().reset(),_.trigger(this._element,Yn)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){_.trigger(this._element,dn);return}this.hide()},t=!!this._config.backdrop;return new xn({className:Ur,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Rn({trapElement:this._element})}_addEventListeners(){_.on(this._element,Qr,e=>{if(e.key===Vr){if(this._config.keyboard){this.hide();return}_.trigger(this._element,dn)}})}static jQueryInterface(e){return this.each(function(){const t=te.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}_.on(document,Jr,Zr,function(n){const e=B.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),xt(this))return;_.one(e,Yn,()=>{$t(this)&&this.focus()});const t=B.findOne(Kn);t&&t!==e&&te.getInstance(t).hide(),te.getOrCreateInstance(e).toggle(this)});_.on(window,jr,()=>{for(const n of B.find(Kn))te.getOrCreateInstance(n).show()});_.on(window,qr,()=>{for(const n of B.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&te.getOrCreateInstance(n).hide()});Hn(te);kn(te);function lt(n){return window.btoa(encodeURIComponent(n))}function ct(n){return decodeURIComponent(window.atob(n))}function nt(n){return n==="mtr_hr"&&(n="mtr"),`/img/${n}.svg`}function X(n,e={}){let t=document.createElement("template"),r=document.querySelector(`template#${n}`).innerHTML;for(let o in e)r=r.replaceAll(o,e[o]);return t.innerHTML=r.trim(),t.content.firstChild}function Ft(n,e=!1){switch(n){case"kmb":return e?"#FFFFFF":"#FF0000";case"ctb":return e?"#0080FF":"#F9BF00";case"nwfb":return e?"#7000CC":"#EF7925";case"nlb":return e?"#3DC9B4":"#2A897B";case"gmb":return e?"#53B776":"#337149";case"mtr":return e?"#53B776":"#1A81FF"}return"#000"}function U(n,e){if(n==="route-hr")switch(e){case"TWL":return"#ff0000";case"KTL":return"#1a9431";case"ISL":return"#0860a8";case"SIL":return"#b5bd00";case"TKL":return"#6b208b";case"AEL":return"#1c7670";case"TCL":return"#fe7f1d";case"DRL":return"#f550a6";case"EAL":return"#5eb6e4";case"TML":return"#9a3b26"}else if(n==="station-hr")switch(e){case"CEN":return"#AA0000";case"ADM":return"#3A86D4";case"TST":return"#FFEF00";case"JOR":return"#69B72B";case"YMT":return"#CCCCCC";case"MOK":return"#BE2700";case"PRE":return"#8674A1";case"SSP":return"#016258";case"CSW":return"#B5A265";case"LCK":return"#E04300";case"MEF":return"#1E90FF";case"LAK":return"#BB2200";case"KWF":return"#233D3A";case"KWH":return"#F1CC00";case"TWH":return"#A2B741";case"TSW":return"#BB2200";case"WHA":return"#AECFF0";case"HOM":return"#A2CF5A";case"SKM":return"#669933";case"KOT":return"#007FFF";case"LOF":return"#579E2F";case"WTS":return"#FFFF00";case"DIH":return"#000000";case"CHH":return"#27408B";case"KOB":return"#C80815";case"NTK":return"#92B6A3";case"KWT":return"#FFFFFF";case"LAT":return"#0083BE";case"YAT":return"#FFEF00";case"TIK":return"#DCD144";case"KET":return"#95D0D0";case"HKU":return"#B8DA89";case"SYP":return"#8B7BA0";case"SHW":return"#FFD280";case"WAC":return"#E1EB2B";case"CAB":return"#C8A2C8";case"TIH":return"#FF7D00";case"FOH":return"#4B8842";case"NOP":return"#E86220";case"QUB":return"#00918C";case"TAK":return"#BB2200";case"SWH":return"#FFCC00";case"SKW":return"#191970";case"HFC":return"#C01204";case"CHW":return"#38510E";case"TKO":return"#E60012";case"HAH":return"#2EA9DF";case"POA":return"#F28500";case"LHP":return"#826F79";case"HOK":return"#FFFAFA";case"KOW":return"#ACA28A";case"OLY":return"#4584C4";case"NAC":return"#F0EE86";case"TSY":return"#A1C6CA";case"SUN":return"#808080";case"TUC":return"#6A5ACD";case"DIS":return"#005533";case"AIR":return"#808080";case"AWE":return"#FFFFFF";case"EXC":return"#94A8B0";case"HUH":return"#F08080";case"MKK":return"#006400";case"TAW":return"#05117E";case"SHT":return"#BB7796";case"FOT":return"#FFA500";case"RAC":return"#15AE69";case"UNI":return"#A2D7DD";case"TAP":return"#976E9A";case"TWO":return"#C89F05";case"FAN":return"#9ACD32";case"SHS":return"#F6A600";case"LOW":return"#8DC476";case"LMC":return"#009E9B";case"WKS":return"#954535";case"MOS":return"#E0B0FF";case"HEO":return"#87CEFA";case"TSH":return"#48D1CC";case"SHM":return"#FBEC5D";case"CIO":return"#FFBF00";case"STW":return"#FFC0CB";case"CKT":return"#FFD280";case"HIK":return"#8FBE6C";case"KAT":return"#FF8C00";case"SUW":return"#D08A00";case"TKW":return"#A9E2F3";case"ETS":return"#FFFF00";case"AUS":return"#B45529";case"TWW":return"#A81C07";case"KSR":return"#CC5500";case"YUL":return"#40F5F5";case"LOP":return"#FFB3BF";case"TIS":return"#FC8A17";case"SIH":return"#7FFFD4";case"TUM":return"#035F94";case"OCP":return"#00BFFF";case"WCH":return"#FFFF00";case"LET":return"#FF7F00";case"SOH":return"#74B11B";case"TCT":return"#274060";case"NPT":return"#274060";case"WEK":return"#808080"}else{if(n==="lr")return"#d3a809";if(n==="route-lr")switch(e){case"505":return"#b53533";case"506P":return"#000";case"507":case"507P":return"#009651";case"610":return"#3d1f1b";case"610P":return"#4dc6f4";case"614":return"#51b5dc";case"614P":return"#d98386";case"615":return"#f9db4f";case"615P":return"#235970";case"705":return"#7eb554";case"706":return"#9f73a0";case"751":return"#d87f3f";case"751P":return"#000";case"761P":return"#592d76"}}return"#000"}function fn(n,e){if(n==="station-hr"){if(["TST","YMT","CSW","KWH","WHA","HOM","LOF","WTS","KWT","LAT","YAT","TIK","KET","HKU","SYP","WAC","CAB","TIH","NOP","SWH","HAH","POA","HOK","KOW","OLY","NAC","TSY","TUC","DIS","AIR","AWE","HUH","MOS","HEO","TSH","SHM","CIO","STW","CKT","KAT","SUW","TKW","ETS","YUL","LOP","TIS","SIH","WCH","WEK"].includes(e))return"#000";if(e==="SHW")return"#6B4513";if(e==="SUN")return"#C0C0C0";if(e==="DIS")return"#D4AF37";if(e==="HIK")return"#182F4F"}return"#FFF"}function no(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}const jn=`${BASE_API}/api/route/{route}.json`,ro=`${BASE_API}/api/spatial/{path}.json`,oo=`${BASE_API}/api/eta`,io=`${BASE_API}/update.json`,Vn=document.getElementById("searchAlert"),Me=document.getElementById("searchResult"),Un=new te("#searchDrawer"),ao="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/basemap/wgs84/{z}/{x}/{y}.png",so="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/imagery/wgs84/{z}/{x}/{y}.png",lo="https://mapapi.geodata.gov.hk/gs/api/v1.0.0/xyz/label/hk/tc/wgs84/{z}/{x}/{y}.png",Wt='<a target="_blank" href="https://portal.csdi.gov.hk/">&copy; Âú∞ÂúñÁâàÊ¨äÂ±¨È¶ôÊ∏ØÁâπÂçÄÊîøÂ∫ú</a><img style="width:16px;height:16px;" src="https://api.hkmapservice.gov.hk/mapapi/landsdlogo.jpg" />',hn={delay:400,dashArray:[20,40],weight:5,paused:!1,reverse:!1,hardwareAccelerated:!0},Gn='<span class="loader m-3"></span>',zn={className:"etaPopup",maxWidth:no()};let Xn;const co=(n,e)=>{let t=`<div class="alert alert-${e}" role="alert"><div>${n}</div></div>`;Vn.innerHTML+=t},uo=()=>{Vn.innerHTML=""},fo=()=>{uo(),Me.innerHTML='<ul class="list-group placeholder-glow"><li class="list-group-item"><span class="placeholder col-12"></span></li><li class="list-group-item"><span class="placeholder col-12"></span></li></ul>';let n=document.getElementById("routeInput").value.toUpperCase();fetch(jn.replace("{route}",n)).then(e=>e.json()).then(e=>{Me.innerHTML=e.map((t,r)=>X("searchResultRow",{"{{id}}":`route-${r}`,"{{json}}":lt(JSON.stringify(t)),"{{companyLogo}}":nt(t.company),"{{companyName}}":t.company,"{{text}}":`${t.orig}‚û°Ô∏è${t.dest}`}).outerHTML).join("")}).catch(function(e){console.log(e),co(`Cannot find route ${n} !`,"danger"),Me.innerHTML=""})},ho=(n,e)=>{Array.from(document.querySelectorAll(".list-group-item, .dropdown-item")).forEach(function(a){a.classList.remove("active")}),document.getElementById(n).classList.add("active");const t=JSON.parse(ct(e));z.clearLayers(),t.stopList.forEach(a=>{const s={company:t.company,route:t.route,routeId:t.routeId,routeType:t.routeType,routeDesc:`${t.orig}‚û°Ô∏è${t.dest}`,dir:t.dir,stop:a.id,name:a.name,address:`${a.lat},${a.long}`,street:a.street,fare:a.fare,fareHoliday:a.fareHoliday};var l=L.marker([a.lat,a.long],s).addTo(de);l.bindPopup(Gn,zn),z.addLayer(l)});let r;const o=Ft(t.company,!1),i=Ft(t.company,!0);switch(t.company){case"kmb":r=`kmb/${t.route}/${t.dir}_${t.routeType}`;break;case"ctb":r=`ctb/${t.route}/${t.dir}`;break;case"nwfb":r=`nwfb/${t.route}/${t.dir}`;break;case"nlb":r=`nlb/${t.route}/${t.routeId}`;break;case"mtr":r=`mtr/${t.route}/${t.dir}`;break;case"gmb":r="";break}r&&fetch(ro.replace("{path}",`${r}`)).then(a=>a.json()).then(a=>{let s=L.polyline.antPath(a,{color:o,pluseColor:i,...hn});z.addLayer(s)}).catch(function(a){let s=t.stopList.map(c=>[c.lat,c.long]);s=[s];let l=L.polyline.antPath(s,{color:o,pluseColor:i,...hn});z.addLayer(l)}),z.addTo(de),de.fitBounds(z.getBounds()),window.innerWidth<768&&Un.hide()},po=n=>{z.clearLayers();let e=n.target.closest("div.list-group-item");const t=JSON.parse(ct(e.dataset.routeJson)),r=t.address.split(","),o={company:t.company,route:t.route,routeId:t.routeId,routeType:t.routeType,routeDesc:t.routeDesc,dir:t.dir,stop:t.stop,name:t.name,address:t.address,street:t.street,fare:t.fare,fareHoliday:t.fareHoliday};var i=L.marker(r,o).addTo(de);i.bindPopup(Gn,zn),z.addLayer(i),z.addTo(de),de.fitBounds(z.getBounds()),i.openPopup(),window.innerWidth<768&&Un.hide()},gt=async n=>fetch(oo,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify([n])}).then(e=>e.json()).then(e=>e[0]).catch(e=>console.error(e)),mo=async n=>{var e=n.popup._source;let t=X("bookmarkBtn").outerHTML;const r={company:e.options.company,route:e.options.route,routeId:e.options.routeId,routeType:e.options.routeType,routeDesc:e.options.routeDesc,dir:e.options.dir,stop:e.options.stop,name:e.options.name,address:e.options.address,street:e.options.street,fare:e.options.fare,fareHoliday:e.options.fareHoliday,railwayFilterDir:e.options.railwayFilterDir};if(e.options.company==="mtr_hr"){let o={...r,dir:"UT"},i={...r,dir:"DT"},a=[];if(e.options.railwayFilterDir===void 0||e.options.railwayFilterDir&&e.options.railwayFilterDir.contains("UT")){const d=await gt({...e.options,dir:"UT"}).then(h=>h.map(p=>{let b="",E="";return p.eta!=null&&(b+=`ÂæÄ${p.dest}`,E=`${Math.max(p.eta,0)}ÂàÜÈêò`),p.remark&&(line+=` (${p.remark})`),X("railwayEtaRow",{"{{css}}":`background-color: ${U("route-hr",e.options.routeId)}`,"{{platform}}":p.platform,"{{text}}":b,"{{eta}}":E}).outerHTML}).join("")).catch(()=>"<div>Êú™ÊúâË≥áÊñô</div>");a.push(`<div class="row">
            <div class="col">${d}</div>
            <div class="col-auto">${isBoomarked(o)?t:bt(o)}</div>
            </div>`)}if(e.options.railwayFilterDir===void 0||e.options.railwayFilterDir&&e.options.railwayFilterDir.contains("DT")){const d=await gt({...e.options,dir:"DT"}).then(h=>h.map(p=>{let b="",E="";return p.eta!=null&&(b+=`ÂæÄ${p.dest}`,E=`${Math.max(p.eta,0)}ÂàÜÈêò`),p.remark&&(line+=` (${p.remark})`),X("railwayEtaRow",{"{{css}}":`background-color: ${U("route-hr",e.options.routeId)}`,"{{platform}}":p.platform,"{{text}}":b,"{{eta}}":E}).outerHTML}).join("")).catch(()=>"<div>Êú™ÊúâË≥áÊñô</div>");a.push(`<div class="row">
            <div class="col">${d}</div>
            <div class="col-auto">${isBoomarked(i)?t:bt(i)}</div>
            </div>`)}const s=a.join('<hr class="my-2">'),l=`background-color: ${U("route-hr",e.options.routeId)}; min-width: 250px;`,c=`background-color: ${U("station-hr",e.options.stop)}; color: ${fn("station-hr",e.options.stop)};`,f=X("etaPopupRailway",{"{{companyLogo}}":nt(e.options.company),"{{route}}":e.options.route,"{{station}}":e.options.name,"{{titleCss}}":l,"{{stationCss}}":c,"{{body}}":s});e._popup.setContent(f)}else{isBoomarked(e.options)||(t=bt(r));const i=`${await gt(e.options).then(d=>d.map(h=>{let p="<div>";if(e.options.company==="mtr_lr"&&(p+=`<span class="badge rounded-pill text-white me-1" style="background-color: ${U("lr")};">${h.platform}</span>`),h.eta!=null&&(p+=`${Math.max(h.eta,0)}ÂàÜÈêò`),h.remark&&(p+=` (${h.remark})`),e.options.company==="mtr_lr"){p+='<div class="float-end">';for(let b=0;b<h.trainLength;b++)p+="üöÉ";p+="</div>"}return p+="</div>",p}).join("")).catch(()=>"<div>Êú™ÊúâË≥áÊñô</div>")}`;let a=`background-color: ${Ft(e.options.company)}`,s="",l="";const c=e.options.routeDesc;e.options.company==="mtr_lr"&&(a=`background-color: ${U("lr")}; color: ${fn("lr")};`,s=`--border-color: ${U("route-lr",e.options.routeId)};`,l="mtrLrRoute");const f=X("etaPopup",{"{{companyLogo}}":nt(e.options.company),"{{routeNo}}":e.options.route,"{{routeNoClass}}":l,"{{routeNoCss}}":s,"{{title}}":e.options.name,"{{subtitle}}":c,"{{titleCss}}":a,"{{bookmarkBtn}}":t,"{{body}}":i});e._popup.setContent(f)}},bt=(n,e=null)=>{if(e===null){let t=document.querySelectorAll("div.list-group-item.group");t.length==0?(e="È†êË®≠Áæ§ÁµÑ",addGroup(e)):e=t[0].dataset.groupName}return`<button class="btn btn-sm btn-outline-warning" onclick="addBookmark('${e}', '${lt(JSON.stringify(n))}', true)"><i id="bookmarkPopupIcon" class="bi bi-bookmark-plus" aria-label="Êî∂ËóèË∑ØÁ∑ö"></i></button>`},go=n=>{Me.innerHTML="",Array.from(document.querySelectorAll("[data-route-type]")).forEach(function(e){e.dataset.routeType===n?e.classList.remove("d-none"):e.classList.add("d-none")}),n==="mtr"&&(Me.innerHTML=Xn.map((e,t)=>X("searchResultRailwayRow",{"{{id}}":`route-${t}`,"{{json}}":lt(JSON.stringify(e)),"{{backgroundColor}}":U("route-hr",e.routeId),"{{text}}":`${e.route} (${e.orig}‚ÜîÔ∏è${e.dest})`}).outerHTML).join(""))};document.getElementById("btnSearch").onclick=fo;document.getElementById("routeInput").addEventListener("keypress",function(n){n.key==="Enter"&&(n.preventDefault(),document.getElementById("btnSearch").click())});var z=new L.FeatureGroup;const qn=L.tileLayer(ao,{maxZoom:20,attribution:Wt}),bo=L.tileLayer(so,{maxZoom:20,attribution:Wt}),Jn=L.tileLayer(lo,{maxZoom:20,attribution:Wt}),Eo={Âú∞ÂΩ¢Âúñ:qn,ÂΩ±ÂÉèÂú∞Âúñ:bo},vo={Âú∞ÂêçÊ®ôÁ±§:Jn},de=L.map("map",{center:[22.322005998683245,114.17846497109828],zoom:13,layers:[qn,Jn]});L.control.layers(Eo,vo,{hideSingleBase:!0}).addTo(de);de.on("popupopen",mo);fetch(io).then(n=>n.json()).then(n=>{document.getElementById("getSiriShortcut").setAttribute("href",n.url),document.getElementById("siriShortcutVersion").innerHTML=`(v${n.version})`});Xn=await fetch(jn.replace("{route}","mtr_hr")).then(n=>n.json());window.renderRoute=ho;window.renderBookmarkStop=po;window.routeTypeClick=go;const _o="modal",yo="bs.modal",W=`.${yo}`,wo=".data-api",So="Escape",Ao=`hide${W}`,To=`hidePrevented${W}`,Qn=`hidden${W}`,Zn=`show${W}`,Do=`shown${W}`,Co=`resize${W}`,ko=`click.dismiss${W}`,Oo=`mousedown.dismiss${W}`,Io=`keydown.dismiss${W}`,No=`click${W}${wo}`,pn="modal-open",Fo="fade",mn="show",Et="modal-static",Bo=".modal.show",Lo=".modal-dialog",Po=".modal-body",Mo='[data-bs-toggle="modal"]',$o={backdrop:!0,focus:!0,keyboard:!0},xo={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ve extends Mn{constructor(e,t){super(e,t),this._dialog=B.findOne(Lo,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nt,this._addEventListeners()}static get Default(){return $o}static get DefaultType(){return xo}static get NAME(){return _o}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||_.trigger(this._element,Zn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(pn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||_.trigger(this._element,Ao).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(mn),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){_.off(window,W),_.off(this._dialog,W),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xn({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Rn({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=B.findOne(Po,this._dialog);t&&(t.scrollTop=0),Dn(this._element),this._element.classList.add(mn);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,_.trigger(this._element,Do,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){_.on(this._element,Io,e=>{if(e.key===So){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),_.on(window,Co,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),_.on(this._element,Oo,e=>{_.one(this._element,ko,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(pn),this._resetAdjustments(),this._scrollBar.reset(),_.trigger(this._element,Qn)})}_isAnimated(){return this._element.classList.contains(Fo)}_triggerBackdropTransition(){if(_.trigger(this._element,To).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Et)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Et),this._queueCallback(()=>{this._element.classList.remove(Et),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const o=Jt()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!r&&e){const o=Jt()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=ve.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}_.on(document,No,Mo,function(n){const e=B.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),_.one(e,Zn,o=>{o.defaultPrevented||_.one(e,Qn,()=>{$t(this)&&this.focus()})});const t=B.findOne(Bo);t&&ve.getInstance(t).hide(),ve.getOrCreateInstance(e).toggle(this)});Hn(ve);kn(ve);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function gn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function J(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gn(Object(t),!0).forEach(function(r){Ho(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gn(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qe(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qe=function(e){return typeof e}:qe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(n)}function Ho(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ne(){return ne=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ne.apply(this,arguments)}function Ro(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Wo(n,e){if(n==null)return{};var t=Ro(n,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var Ko="1.15.0";function ee(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var oe=ee(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ke=ee(/Edge/i),bn=ee(/firefox/i),$e=ee(/safari/i)&&!ee(/chrome/i)&&!ee(/android/i),er=ee(/iP(ad|od|hone)/i),tr=ee(/chrome/i)&&ee(/android/i),nr={capture:!1,passive:!1};function w(n,e,t){n.addEventListener(e,t,!oe&&nr)}function y(n,e,t){n.removeEventListener(e,t,!oe&&nr)}function rt(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Yo(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function G(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&rt(n,e):rt(n,e))||r&&n===t)return n;if(n===t)break}while(n=Yo(n))}return null}var En=/\s+/g;function $(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(En," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(En," ")}}function g(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function Te(n,e){var t="";if(typeof n=="string")t=n;else do{var r=g(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function rr(n,e,t){if(n){var r=n.getElementsByTagName(e),o=0,i=r.length;if(t)for(;o<i;o++)t(r[o],o);return r}return[]}function q(){var n=document.scrollingElement;return n||document.documentElement}function C(n,e,t,r,o){if(!(!n.getBoundingClientRect&&n!==window)){var i,a,s,l,c,f,d;if(n!==window&&n.parentNode&&n!==q()?(i=n.getBoundingClientRect(),a=i.top,s=i.left,l=i.bottom,c=i.right,f=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(e||t)&&n!==window&&(o=o||n.parentNode,!oe))do if(o&&o.getBoundingClientRect&&(g(o,"transform")!=="none"||t&&g(o,"position")!=="static")){var h=o.getBoundingClientRect();a-=h.top+parseInt(g(o,"border-top-width")),s-=h.left+parseInt(g(o,"border-left-width")),l=a+i.height,c=s+i.width;break}while(o=o.parentNode);if(r&&n!==window){var p=Te(o||n),b=p&&p.a,E=p&&p.d;p&&(a/=E,s/=b,d/=b,f/=E,l=a+f,c=s+d)}return{top:a,left:s,bottom:l,right:c,width:d,height:f}}}function vn(n,e,t){for(var r=ue(n,!0),o=C(n)[e];r;){var i=C(r)[t],a=void 0;if(t==="top"||t==="left"?a=o>=i:a=o<=i,!a)return r;if(r===q())break;r=ue(r,!1)}return!1}function De(n,e,t,r){for(var o=0,i=0,a=n.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==m.ghost&&(r||a[i]!==m.dragged)&&G(a[i],t.draggable,n,!1)){if(o===e)return a[i];o++}i++}return null}function Kt(n,e){for(var t=n.lastElementChild;t&&(t===m.ghost||g(t,"display")==="none"||e&&!rt(t,e));)t=t.previousElementSibling;return t||null}function R(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==m.clone&&(!e||rt(n,e))&&t++;return t}function _n(n){var e=0,t=0,r=q();if(n)do{var o=Te(n),i=o.a,a=o.d;e+=n.scrollLeft*i,t+=n.scrollTop*a}while(n!==r&&(n=n.parentNode));return[e,t]}function jo(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function ue(n,e){if(!n||!n.getBoundingClientRect)return q();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=g(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return q();if(r||e)return t;r=!0}}while(t=t.parentNode);return q()}function Vo(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function vt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var xe;function or(n,e){return function(){if(!xe){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),xe=setTimeout(function(){xe=void 0},e)}}}function Uo(){clearTimeout(xe),xe=void 0}function ir(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function ar(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var H="Sortable"+new Date().getTime();function Go(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(g(o,"display")==="none"||o===m.ghost)){n.push({target:o,rect:C(o)});var i=J({},n[n.length-1].rect);if(o.thisAnimationDuration){var a=Te(o,!0);a&&(i.top-=a.f,i.left-=a.e)}o.fromRect=i}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(jo(n,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var i=!1,a=0;n.forEach(function(s){var l=0,c=s.target,f=c.fromRect,d=C(c),h=c.prevFromRect,p=c.prevToRect,b=s.rect,E=Te(c,!0);E&&(d.top-=E.f,d.left-=E.e),c.toRect=d,c.thisAnimationDuration&&vt(h,d)&&!vt(f,d)&&(b.top-d.top)/(b.left-d.left)===(f.top-d.top)/(f.left-d.left)&&(l=Xo(b,h,p,o.options)),vt(d,f)||(c.prevFromRect=f,c.prevToRect=d,l||(l=o.options.animation),o.animate(c,b,d,l)),l&&(i=!0,a=Math.max(a,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),i?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),n=[]},animate:function(r,o,i,a){if(a){g(r,"transition",""),g(r,"transform","");var s=Te(this.el),l=s&&s.a,c=s&&s.d,f=(o.left-i.left)/(l||1),d=(o.top-i.top)/(c||1);r.animatingX=!!f,r.animatingY=!!d,g(r,"transform","translate3d("+f+"px,"+d+"px,0)"),this.forRepaintDummy=zo(r),g(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),g(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){g(r,"transition",""),g(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function zo(n){return n.offsetWidth}function Xo(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var _e=[],_t={initializeByDefault:!0},Ye={mount:function(e){for(var t in _t)_t.hasOwnProperty(t)&&!(t in e)&&(e[t]=_t[t]);_e.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),_e.push(e)},pluginEvent:function(e,t,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=e+"Global";_e.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][i]&&t[a.pluginName][i](J({sortable:t},r)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](J({sortable:t},r)))})},initializePlugins:function(e,t,r,o){_e.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,t,e.options);c.sortable=e,c.options=e.options,e[l]=c,ne(r,c.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);typeof a<"u"&&(e.options[i]=a)}},getEventProperties:function(e,t){var r={};return _e.forEach(function(o){typeof o.eventProperties=="function"&&ne(r,o.eventProperties.call(t[o.pluginName],e))}),r},modifyOption:function(e,t,r){var o;return _e.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[t]=="function"&&(o=i.optionListeners[t].call(e[i.pluginName],r))}),o}};function qo(n){var e=n.sortable,t=n.rootEl,r=n.name,o=n.targetEl,i=n.cloneEl,a=n.toEl,s=n.fromEl,l=n.oldIndex,c=n.newIndex,f=n.oldDraggableIndex,d=n.newDraggableIndex,h=n.originalEvent,p=n.putSortable,b=n.extraEventProperties;if(e=e||t&&t[H],!!e){var E,K=e.options,Q="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!oe&&!Ke?E=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(r,!0,!0)),E.to=a||t,E.from=s||t,E.item=o||t,E.clone=i,E.oldIndex=l,E.newIndex=c,E.oldDraggableIndex=f,E.newDraggableIndex=d,E.originalEvent=h,E.pullMode=p?p.lastPutMode:void 0;var I=J(J({},b),Ye.getEventProperties(r,e));for(var Y in I)E[Y]=I[Y];t&&t.dispatchEvent(E),K[Q]&&K[Q].call(e,E)}}var Jo=["evt"],F=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,i=Wo(r,Jo);Ye.pluginEvent.bind(m)(e,t,J({dragEl:u,parentEl:T,ghostEl:v,rootEl:S,nextEl:be,lastDownEl:Je,cloneEl:A,cloneHidden:ce,dragStarted:Fe,putSortable:k,activeSortable:m.active,originalEvent:o,oldIndex:Se,oldDraggableIndex:He,newIndex:x,newDraggableIndex:le,hideGhostForTarget:ur,unhideGhostForTarget:dr,cloneNowHidden:function(){ce=!0},cloneNowShown:function(){ce=!1},dispatchSortableEvent:function(s){N({sortable:t,name:s,originalEvent:o})}},i))};function N(n){qo(J({putSortable:k,cloneEl:A,targetEl:u,rootEl:S,oldIndex:Se,oldDraggableIndex:He,newIndex:x,newDraggableIndex:le},n))}var u,T,v,S,be,Je,A,ce,Se,x,He,le,Ue,k,we=!1,ot=!1,it=[],me,j,yt,wt,yn,wn,Fe,ye,Re,We=!1,Ge=!1,Qe,O,St=[],Bt=!1,at=[],ut=typeof document<"u",ze=er,Sn=Ke||oe?"cssFloat":"float",Qo=ut&&!tr&&!er&&"draggable"in document.createElement("div"),sr=function(){if(ut){if(oe)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),lr=function(e,t){var r=g(e),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=De(e,0,t),a=De(e,1,t),s=i&&g(i),l=a&&g(a),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(i).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+C(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=o&&r[Sn]==="none"||a&&r[Sn]==="none"&&c+f>o)?"vertical":"horizontal"},Zo=function(e,t,r){var o=r?e.left:e.top,i=r?e.right:e.bottom,a=r?e.width:e.height,s=r?t.left:t.top,l=r?t.right:t.bottom,c=r?t.width:t.height;return o===s||i===l||o+a/2===s+c/2},ei=function(e,t){var r;return it.some(function(o){var i=o[H].options.emptyInsertThreshold;if(!(!i||Kt(o))){var a=C(o),s=e>=a.left-i&&e<=a.right+i,l=t>=a.top-i&&t<=a.bottom+i;if(s&&l)return r=o}}),r},cr=function(e){function t(i,a){return function(s,l,c,f){var d=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(i==null&&(a||d))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return t(i(s,l,c,f),a)(s,l,c,f);var h=(a?s:l).options.group.name;return i===!0||typeof i=="string"&&i===h||i.join&&i.indexOf(h)>-1}}var r={},o=e.group;(!o||qe(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=t(o.pull,!0),r.checkPut=t(o.put),r.revertClone=o.revertClone,e.group=r},ur=function(){!sr&&v&&g(v,"display","none")},dr=function(){!sr&&v&&g(v,"display","")};ut&&!tr&&document.addEventListener("click",function(n){if(ot)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),ot=!1,!1},!0);var ge=function(e){if(u){e=e.touches?e.touches[0]:e;var t=ei(e.clientX,e.clientY);if(t){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[H]._onDragOver(r)}}},ti=function(e){u&&u.parentNode[H]._isOutsideThisEl(e.target)};function m(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=ne({},e),n[H]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return lr(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:m.supportPointer!==!1&&"PointerEvent"in window&&!$e,emptyInsertThreshold:5};Ye.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);cr(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Qo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?w(n,"pointerdown",this._onTapStart):(w(n,"mousedown",this._onTapStart),w(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(n,"dragover",this),w(n,"dragenter",this)),it.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ne(this,Go())}m.prototype={constructor:m,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ye=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,u):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,o=this.options,i=o.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=o.filter;if(ci(r),!u&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&$e&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=G(l,o.draggable,r,!1),!(l&&l.animated)&&Je!==l)){if(Se=R(l),He=R(l,o.draggable),typeof f=="function"){if(f.call(this,e,l,this)){N({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),F("filter",t,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(d){if(d=G(c,d.trim(),r,!1),d)return N({sortable:t,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),F("filter",t,{evt:e}),!0}),f)){i&&e.cancelable&&e.preventDefault();return}o.handle&&!G(c,o.handle,r,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,r){var o=this,i=o.el,a=o.options,s=i.ownerDocument,l;if(r&&!u&&r.parentNode===i){var c=C(r);if(S=i,u=r,T=u.parentNode,be=u.nextSibling,Je=r,Ue=a.group,m.dragged=u,me={target:u,clientX:(t||e).clientX,clientY:(t||e).clientY},yn=me.clientX-c.left,wn=me.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,u.style["will-change"]="all",l=function(){if(F("delayEnded",o,{evt:e}),m.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!bn&&o.nativeDraggable&&(u.draggable=!0),o._triggerDragStart(e,t),N({sortable:o,name:"choose",originalEvent:e}),$(u,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){rr(u,f.trim(),At)}),w(s,"dragover",ge),w(s,"mousemove",ge),w(s,"touchmove",ge),w(s,"mouseup",o._onDrop),w(s,"touchend",o._onDrop),w(s,"touchcancel",o._onDrop),bn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),F("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ke||oe))){if(m.eventCanceled){this._onDrop();return}w(s,"mouseup",o._disableDelayedDrag),w(s,"touchend",o._disableDelayedDrag),w(s,"touchcancel",o._disableDelayedDrag),w(s,"mousemove",o._delayedDragTouchMoveHandler),w(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&w(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&At(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):t?w(document,"touchmove",this._onTouchMove):w(document,"mousemove",this._onTouchMove):(w(u,"dragend",this),w(S,"dragstart",this._onDragStart));try{document.selection?Ze(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(we=!1,S&&u){F("dragStarted",this,{evt:t}),this.nativeDraggable&&w(document,"dragover",ti);var r=this.options;!e&&$(u,r.dragClass,!1),$(u,r.ghostClass,!0),m.active=this,e&&this._appendGhost(),N({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(j){this._lastX=j.clientX,this._lastY=j.clientY,ur();for(var e=document.elementFromPoint(j.clientX,j.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(j.clientX,j.clientY),e!==t);)t=e;if(u.parentNode[H]._isOutsideThisEl(e),t)do{if(t[H]){var r=void 0;if(r=t[H]._onDragOver({clientX:j.clientX,clientY:j.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);dr()}},_onTouchMove:function(e){if(me){var t=this.options,r=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=v&&Te(v,!0),s=v&&a&&a.a,l=v&&a&&a.d,c=ze&&O&&_n(O),f=(i.clientX-me.clientX+o.x)/(s||1)+(c?c[0]-St[0]:0)/(s||1),d=(i.clientY-me.clientY+o.y)/(l||1)+(c?c[1]-St[1]:0)/(l||1);if(!m.active&&!we){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(v){a?(a.e+=f-(yt||0),a.f+=d-(wt||0)):a={a:1,b:0,c:0,d:1,e:f,f:d};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");g(v,"webkitTransform",h),g(v,"mozTransform",h),g(v,"msTransform",h),g(v,"transform",h),yt=f,wt=d,j=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!v){var e=this.options.fallbackOnBody?document.body:S,t=C(u,!0,ze,!0,e),r=this.options;if(ze){for(O=e;g(O,"position")==="static"&&g(O,"transform")==="none"&&O!==document;)O=O.parentNode;O!==document.body&&O!==document.documentElement?(O===document&&(O=q()),t.top+=O.scrollTop,t.left+=O.scrollLeft):O=q(),St=_n(O)}v=u.cloneNode(!0),$(v,r.ghostClass,!1),$(v,r.fallbackClass,!0),$(v,r.dragClass,!0),g(v,"transition",""),g(v,"transform",""),g(v,"box-sizing","border-box"),g(v,"margin",0),g(v,"top",t.top),g(v,"left",t.left),g(v,"width",t.width),g(v,"height",t.height),g(v,"opacity","0.8"),g(v,"position",ze?"absolute":"fixed"),g(v,"zIndex","100000"),g(v,"pointerEvents","none"),m.ghost=v,e.appendChild(v),g(v,"transform-origin",yn/parseInt(v.style.width)*100+"% "+wn/parseInt(v.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,o=e.dataTransfer,i=r.options;if(F("dragStart",this,{evt:e}),m.eventCanceled){this._onDrop();return}F("setupClone",this),m.eventCanceled||(A=ar(u),A.removeAttribute("id"),A.draggable=!1,A.style["will-change"]="",this._hideClone(),$(A,this.options.chosenClass,!1),m.clone=A),r.cloneId=Ze(function(){F("clone",r),!m.eventCanceled&&(r.options.removeCloneOnHide||S.insertBefore(A,u),r._hideClone(),N({sortable:r,name:"clone"}))}),!t&&$(u,i.dragClass,!0),t?(ot=!0,r._loopId=setInterval(r._emulateDragOver,50)):(y(document,"mouseup",r._onDrop),y(document,"touchend",r._onDrop),y(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(r,o,u)),w(document,"drop",r),g(u,"transform","translateZ(0)")),we=!0,r._dragStartId=Ze(r._dragStarted.bind(r,t,e)),w(document,"selectstart",r),Fe=!0,$e&&g(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,r=e.target,o,i,a,s=this.options,l=s.group,c=m.active,f=Ue===l,d=s.sort,h=k||c,p,b=this,E=!1;if(Bt)return;function K(Ne,gr){F(Ne,b,J({evt:e,isOwner:f,axis:p?"vertical":"horizontal",revert:a,dragRect:o,targetRect:i,canSort:d,fromSortable:h,target:r,completed:I,onMove:function(qt,br){return Xe(S,t,u,o,qt,C(qt),e,br)},changed:Y},gr))}function Q(){K("dragOverAnimationCapture"),b.captureAnimationState(),b!==h&&h.captureAnimationState()}function I(Ne){return K("dragOverCompleted",{insertion:Ne}),Ne&&(f?c._hideClone():c._showClone(b),b!==h&&($(u,k?k.options.ghostClass:c.options.ghostClass,!1),$(u,s.ghostClass,!0)),k!==b&&b!==m.active?k=b:b===m.active&&k&&(k=null),h===b&&(b._ignoreWhileAnimating=r),b.animateAll(function(){K("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===u&&!u.animated||r===t&&!r.animated)&&(ye=null),!s.dragoverBubble&&!e.rootEl&&r!==document&&(u.parentNode[H]._isOutsideThisEl(e.target),!Ne&&ge(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),E=!0}function Y(){x=R(u),le=R(u,s.draggable),N({sortable:b,name:"change",toEl:t,newIndex:x,newDraggableIndex:le,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=G(r,s.draggable,t,!0),K("dragOver"),m.eventCanceled)return E;if(u.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||b._ignoreWhileAnimating===r)return I(!1);if(ot=!1,c&&!s.disabled&&(f?d||(a=T!==S):k===this||(this.lastPutMode=Ue.checkPull(this,c,u,e))&&l.checkPut(this,c,u,e))){if(p=this._getDirection(e,r)==="vertical",o=C(u),K("dragOverValid"),m.eventCanceled)return E;if(a)return T=S,Q(),this._hideClone(),K("revert"),m.eventCanceled||(be?S.insertBefore(u,be):S.appendChild(u)),I(!0);var P=Kt(t,s.draggable);if(!P||ii(e,p,this)&&!P.animated){if(P===u)return I(!1);if(P&&t===e.target&&(r=P),r&&(i=C(r)),Xe(S,t,u,o,r,i,e,!!r)!==!1)return Q(),P&&P.nextSibling?t.insertBefore(u,P.nextSibling):t.appendChild(u),T=t,Y(),I(!0)}else if(P&&oi(e,p,this)){var fe=De(t,0,s,!0);if(fe===u)return I(!1);if(r=fe,i=C(r),Xe(S,t,u,o,r,i,e,!1)!==!1)return Q(),t.insertBefore(u,fe),T=t,Y(),I(!0)}else if(r.parentNode===t){i=C(r);var V=0,he,Ce=u.parentNode!==t,M=!Zo(u.animated&&u.toRect||o,r.animated&&r.toRect||i,p),ke=p?"top":"left",ie=vn(r,"top","top")||vn(u,"top","top"),Oe=ie?ie.scrollTop:void 0;ye!==r&&(he=i[ke],We=!1,Ge=!M&&s.invertSwap||Ce),V=ai(e,r,i,p,M?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Ge,ye===r);var Z;if(V!==0){var pe=R(u);do pe-=V,Z=T.children[pe];while(Z&&(g(Z,"display")==="none"||Z===v))}if(V===0||Z===r)return I(!1);ye=r,Re=V;var Ie=r.nextElementSibling,ae=!1;ae=V===1;var je=Xe(S,t,u,o,r,i,e,ae);if(je!==!1)return(je===1||je===-1)&&(ae=je===1),Bt=!0,setTimeout(ri,30),Q(),ae&&!Ie?t.appendChild(u):r.parentNode.insertBefore(u,ae?Ie:r),ie&&ir(ie,0,Oe-ie.scrollTop),T=u.parentNode,he!==void 0&&!Ge&&(Qe=Math.abs(he-C(r)[ke])),Y(),I(!0)}if(t.contains(u))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",ge),y(document,"mousemove",ge),y(document,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;if(x=R(u),le=R(u,r.draggable),F("drop",this,{evt:e}),T=u&&u.parentNode,x=R(u),le=R(u,r.draggable),m.eventCanceled){this._nulling();return}we=!1,Ge=!1,We=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Lt(this.cloneId),Lt(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$e&&g(document.body,"user-select",""),g(u,"transform",""),e&&(Fe&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),v&&v.parentNode&&v.parentNode.removeChild(v),(S===T||k&&k.lastPutMode!=="clone")&&A&&A.parentNode&&A.parentNode.removeChild(A),u&&(this.nativeDraggable&&y(u,"dragend",this),At(u),u.style["will-change"]="",Fe&&!we&&$(u,k?k.options.ghostClass:this.options.ghostClass,!1),$(u,this.options.chosenClass,!1),N({sortable:this,name:"unchoose",toEl:T,newIndex:null,newDraggableIndex:null,originalEvent:e}),S!==T?(x>=0&&(N({rootEl:T,name:"add",toEl:T,fromEl:S,originalEvent:e}),N({sortable:this,name:"remove",toEl:T,originalEvent:e}),N({rootEl:T,name:"sort",toEl:T,fromEl:S,originalEvent:e}),N({sortable:this,name:"sort",toEl:T,originalEvent:e})),k&&k.save()):x!==Se&&x>=0&&(N({sortable:this,name:"update",toEl:T,originalEvent:e}),N({sortable:this,name:"sort",toEl:T,originalEvent:e})),m.active&&((x==null||x===-1)&&(x=Se,le=He),N({sortable:this,name:"end",toEl:T,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){F("nulling",this),S=u=T=v=be=A=Je=ce=me=j=Fe=x=le=Se=He=ye=Re=k=Ue=m.dragged=m.ghost=m.clone=m.active=null,at.forEach(function(e){e.checked=!0}),at.length=yt=wt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":u&&(this._onDragOver(e),ni(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,r=this.el.children,o=0,i=r.length,a=this.options;o<i;o++)t=r[o],G(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||li(t));return e},sort:function(e,t){var r={},o=this.el;this.toArray().forEach(function(i,a){var s=o.children[a];G(s,this.options.draggable,o,!1)&&(r[i]=s)},this),t&&this.captureAnimationState(),e.forEach(function(i){r[i]&&(o.removeChild(r[i]),o.appendChild(r[i]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return G(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(t===void 0)return r[e];var o=Ye.modifyOption(this,e,t);typeof o<"u"?r[e]=o:r[e]=t,e==="group"&&cr(r)},destroy:function(){F("destroy",this);var e=this.el;e[H]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),it.splice(it.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ce){if(F("hideClone",this),m.eventCanceled)return;g(A,"display","none"),this.options.removeCloneOnHide&&A.parentNode&&A.parentNode.removeChild(A),ce=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ce){if(F("showClone",this),m.eventCanceled)return;u.parentNode==S&&!this.options.group.revertClone?S.insertBefore(A,u):be?S.insertBefore(A,be):S.appendChild(A),this.options.group.revertClone&&this.animate(u,A),g(A,"display",""),ce=!1}}};function ni(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Xe(n,e,t,r,o,i,a,s){var l,c=n[H],f=c.options.onMove,d;return window.CustomEvent&&!oe&&!Ke?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=t,l.draggedRect=r,l.related=o||e,l.relatedRect=i||C(e),l.willInsertAfter=s,l.originalEvent=a,n.dispatchEvent(l),f&&(d=f.call(c,l,a)),d}function At(n){n.draggable=!1}function ri(){Bt=!1}function oi(n,e,t){var r=C(De(t.el,0,t.options,!0)),o=10;return e?n.clientX<r.left-o||n.clientY<r.top&&n.clientX<r.right:n.clientY<r.top-o||n.clientY<r.bottom&&n.clientX<r.left}function ii(n,e,t){var r=C(Kt(t.el,t.options.draggable)),o=10;return e?n.clientX>r.right+o||n.clientX<=r.right&&n.clientY>r.bottom&&n.clientX>=r.left:n.clientX>r.right&&n.clientY>r.top||n.clientX<=r.right&&n.clientY>r.bottom+o}function ai(n,e,t,r,o,i,a,s){var l=r?n.clientY:n.clientX,c=r?t.height:t.width,f=r?t.top:t.left,d=r?t.bottom:t.right,h=!1;if(!a){if(s&&Qe<c*o){if(!We&&(Re===1?l>f+c*i/2:l<d-c*i/2)&&(We=!0),We)h=!0;else if(Re===1?l<f+Qe:l>d-Qe)return-Re}else if(l>f+c*(1-o)/2&&l<d-c*(1-o)/2)return si(e)}return h=h||a,h&&(l<f+c*i/2||l>d-c*i/2)?l>f+c/2?1:-1:0}function si(n){return R(u)<R(n)?1:-1}function li(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function ci(n){at.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&at.push(r)}}function Ze(n){return setTimeout(n,0)}function Lt(n){return clearTimeout(n)}ut&&w(document,"touchmove",function(n){(m.active||we)&&n.cancelable&&n.preventDefault()});m.utils={on:w,off:y,css:g,find:rr,is:function(e,t){return!!G(e,t,e,!1)},extend:Vo,throttle:or,closest:G,toggleClass:$,clone:ar,index:R,nextTick:Ze,cancelNextTick:Lt,detectDirection:lr,getChild:De};m.get=function(n){return n[H]};m.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(m.utils=J(J({},m.utils),r.utils)),Ye.mount(r)})};m.create=function(n,e){return new m(n,e)};m.version=Ko;var D=[],Be,Pt,Mt=!1,Tt,Dt,st,Le;function ui(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):r.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),An(),et(),Uo()},nulling:function(){st=Pt=Be=Mt=Le=Tt=Dt=null,D.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var o=this,i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(i,a);if(st=t,r||this.options.forceAutoScrollFallback||Ke||oe||$e){Ct(t,this.options,s,r);var l=ue(s,!0);Mt&&(!Le||i!==Tt||a!==Dt)&&(Le&&An(),Le=setInterval(function(){var c=ue(document.elementFromPoint(i,a),!0);c!==l&&(l=c,et()),Ct(t,o.options,c,r)},10),Tt=i,Dt=a)}else{if(!this.options.bubbleScroll||ue(s,!0)===q()){et();return}Ct(t,this.options,ue(s,!1),!1)}}},ne(n,{pluginName:"scroll",initializeByDefault:!0})}function et(){D.forEach(function(n){clearInterval(n.pid)}),D=[]}function An(){clearInterval(Le)}var Ct=or(function(n,e,t,r){if(e.scroll){var o=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,l=q(),c=!1,f;Pt!==t&&(Pt=t,et(),Be=e.scroll,f=e.scrollFn,Be===!0&&(Be=ue(t,!0)));var d=0,h=Be;do{var p=h,b=C(p),E=b.top,K=b.bottom,Q=b.left,I=b.right,Y=b.width,P=b.height,fe=void 0,V=void 0,he=p.scrollWidth,Ce=p.scrollHeight,M=g(p),ke=p.scrollLeft,ie=p.scrollTop;p===l?(fe=Y<he&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),V=P<Ce&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(fe=Y<he&&(M.overflowX==="auto"||M.overflowX==="scroll"),V=P<Ce&&(M.overflowY==="auto"||M.overflowY==="scroll"));var Oe=fe&&(Math.abs(I-o)<=a&&ke+Y<he)-(Math.abs(Q-o)<=a&&!!ke),Z=V&&(Math.abs(K-i)<=a&&ie+P<Ce)-(Math.abs(E-i)<=a&&!!ie);if(!D[d])for(var pe=0;pe<=d;pe++)D[pe]||(D[pe]={});(D[d].vx!=Oe||D[d].vy!=Z||D[d].el!==p)&&(D[d].el=p,D[d].vx=Oe,D[d].vy=Z,clearInterval(D[d].pid),(Oe!=0||Z!=0)&&(c=!0,D[d].pid=setInterval(function(){r&&this.layer===0&&m.active._onTouchMove(st);var Ie=D[this.layer].vy?D[this.layer].vy*s:0,ae=D[this.layer].vx?D[this.layer].vx*s:0;typeof f=="function"&&f.call(m.dragged.parentNode[H],ae,Ie,n,st,D[this.layer].el)!=="continue"||ir(D[this.layer].el,ae,Ie)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=ue(h,!1)));Mt=c}},30),fr=function(e){var t=e.originalEvent,r=e.putSortable,o=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=r||i;s();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(f.clientX,f.clientY);l(),c&&!c.el.contains(d)&&(a("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function Yt(){}Yt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=De(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:fr};ne(Yt,{pluginName:"revertOnSpill"});function jt(){}jt.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,o=r||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:fr};ne(jt,{pluginName:"removeOnSpill"});m.mount(new ui);m.mount(jt,Yt);const hr=document.getElementById("bookmarkList"),Vt="##",Ut=`
`,di=new ve("#addGroupModal"),Gt=n=>{n?([document.getElementById("btnBookmarkEdit"),document.getElementById("btnBookmarkDownload"),document.getElementById("btnBookmarkUpload")].forEach((e,t,r)=>{e.classList.add("d-none")}),[document.getElementById("btnBookmarkGroupAdd"),...document.getElementsByClassName("btnBookmarkGroupEdit"),document.getElementById("btnBookmarkSave"),document.getElementById("btnBookmarkReset"),...document.getElementsByClassName("btnBookmarkReorder"),...document.getElementsByClassName("btnBookmarkRemove")].forEach((e,t,r)=>{e.classList.remove("d-none")})):([document.getElementById("btnBookmarkEdit"),document.getElementById("btnBookmarkDownload"),document.getElementById("btnBookmarkUpload")].forEach((e,t,r)=>{e.classList.remove("d-none")}),[document.getElementById("btnBookmarkGroupAdd"),...document.getElementsByClassName("btnBookmarkGroupEdit"),document.getElementById("btnBookmarkSave"),document.getElementById("btnBookmarkReset"),...document.getElementsByClassName("btnBookmarkReorder"),...document.getElementsByClassName("btnBookmarkRemove")].forEach((e,t,r)=>{e.classList.add("d-none")}))},zt=n=>{document.getElementById("groupNameInput").value.length>0&&(n=document.getElementById("groupNameInput").value,document.getElementById("groupNameInput").value="",di.hide());const e=X("bookmarkGroup",{"{{name}}":n}),t=X("bookmarkRoute");e.appendChild(t),hr.appendChild(e),new m(t,{handle:".btnBookmarkReorder",group:"route",animation:150})},fi=n=>{n.target.closest("div.list-group-item.group").remove()},pr=(n,e,t=!1)=>{t&&(e=JSON.parse(ct(e)));let r="",o="";e.company==="mtr_hr"?r=`background-color: ${U("route-hr",e.routeId)}!important;`:e.company==="mtr_lr"&&(r=`--border-color: ${U("route-lr",e.routeId)}; background-color: #fff!important;`,o="mtrLrRoute p-0");const i=X("bookmarkRow",{"{{dataRouteJson}}":lt(JSON.stringify(e)),"{{companyLogo}}":nt(e.company),"{{route}}":e.route,"{{name}}":e.name,"{{routeDesc}}":e.routeDesc,"{{routeCss}}":r,"{{routeClass}}":o});document.querySelectorAll(`div[data-group-name="${n}"] .list-group.route`)[0].appendChild(i),t&&mr()},hi=n=>{n.target.closest("div.list-group-item").remove()},pi=()=>{Gt(!0)},mr=()=>{Gt(!1);const n=[...document.getElementsByClassName("list-group-item")].map(e=>{const t=e.getAttribute("data-group-name");if(t){const r=[...e.querySelectorAll(".list-group-item")].map(o=>ct(o.getAttribute("data-route-json"))).join(Vt);return JSON.stringify({[t]:r})}else return null}).filter(e=>!!e).join(Ut);localStorage.setItem("bookmarkList",n)},Xt=()=>{Gt(!1),hr.innerHTML="";let n=[];localStorage.hasOwnProperty("bookmarkList")&&(n=localStorage.getItem("bookmarkList").split(Ut).map(e=>{const t=JSON.parse(e);return Object.entries(t).map(r=>({[r[0]]:r[1].split(Vt).map(o=>JSON.parse(o))}))})),n.forEach(e=>{const t=Object.entries(e[0])[0];zt(t[0]),t[1].forEach(r=>pr(t[0],r))})},mi=()=>{let n="";localStorage.hasOwnProperty("bookmarkList")&&(n=localStorage.getItem("bookmarkList"));let e=document.createElement("a"),t=new Blob([n],{type:"text/plain"}),r=URL.createObjectURL(t);e.setAttribute("href",r),e.setAttribute("download","group.txt"),e.click()},gi=n=>{const e=new FileReader;e.onload=t=>{localStorage.setItem("bookmarkList",t.target.result),Xt()},e.onerror=t=>console.error(t),e.readAsText(n.target.files[0])},bi=n=>localStorage.hasOwnProperty("bookmarkList")?localStorage.getItem("bookmarkList").split(Ut).some(e=>{const t=JSON.parse(e);return Object.entries(t).some(r=>r[1].split(Vt).some(o=>{const i=JSON.parse(o);let a=i.company===n.company&&i.routeId===n.routeId&&i.stop===n.stop;switch(n.company){case"kmb":a=a&&i.routeType===n.routeType&&i.dir===n.dir;break;case"ctb":case"nwfb":case"mtr":case"mtr_hr":case"mtr_lr":a=a&&i.dir===n.dir;break;case"gmb":a=a&&i.routeType===n.routeType;break}return a}))}):!1;document.getElementById("btnBookmarkEdit").onclick=pi;document.getElementById("btnBookmarkSave").onclick=mr;document.getElementById("btnBookmarkReset").onclick=Xt;document.getElementById("btnBookmarkGroupAddSubmit").onclick=zt;document.getElementById("btnBookmarkDownload").onclick=mi;document.getElementById("fileUploadInput").addEventListener("change",gi,!1);Xt();new m(document.getElementById("bookmarkList"),{handle:".btnBookmarkReorder",group:"group",animation:150});window.addGroup=zt;window.removeGroup=fi;window.addBookmark=pr;window.removeBookmark=hi;window.isBoomarked=bi;
